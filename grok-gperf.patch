--- grok-a52f42b1fa359db2145a70216ec5b4ef43d57b5c/Makefile.orig	2017-07-20 23:49:31.000000000 +0200
+++ grok-a52f42b1fa359db2145a70216ec5b4ef43d57b5c/Makefile	2020-05-28 21:54:29.717536383 +0200
@@ -213,7 +213,7 @@
 	rpcgen -h $< -o $@
 
 %.c: %.gperf
-	@if $(GPERF) --version | head -1 | egrep -v '3\.[0-9]+\.[0-9]+' ; then \
+	@if $(GPERF) --version | head -1 | egrep -v '3\.[0-9]+\.[0-9]+|3\.[1-9]' ; then \
 		echo "We require gperf version >= 3.0.3" ; \
 		exit 1; \
 	fi
--- grok-a52f42b1fa359db2145a70216ec5b4ef43d57b5c/grok_matchconf_macro.h.orig	2017-07-20 23:49:31.000000000 +0200
+++ grok-a52f42b1fa359db2145a70216ec5b4ef43d57b5c/grok_matchconf_macro.h	2020-06-02 17:11:27.029325821 +0200
@@ -19,6 +19,6 @@
 #endif
 
 /* this function is generated by gperf */
-const struct strmacro *patname2macro(const char *str, unsigned int len);
+const struct strmacro *patname2macro(const char *str, size_t len);
 
 #endif /* _GROK_MATCHCONF_MACRO_ */
